ip:
  company: 172.16.142.128
  home: 192.168.208.128

spring:
  profiles:
    active: nacos-home

# 以下配置都是兼容没有使用 Nacos Config 的组件
swagger:
  print:
    enable: true

application:
  tips: 欢迎使用 Spring Cloud Alibaba

port:
  common:
    eureka-server1: 8001
    eureka-server2: 8002
    eureka-server3: 8003
  service:
    # 随机端口用于集群配置（高可用）
    #    service-um: ${random.int[8100,8200]}
    eureka-um1: 8101
    eureka-um2: 8102
    zookeeper-um: 8103
    nacos-um: 8104
  view:
    eureka-customer-service: 8201
    zookeeper-customer-service: 8202
    nacos-customer-service: 8203

---
spring:
  profiles: nacos-home
  cloud.nacos.discovery:
    #    server-addr: ${ip.company}:8848
    # 个人开发不建议使用
    namespace: 8bfffac4-922c-4881-acf2-5150225a310b
    server-addr: ${ip.home}:8848
    username: nacos
    password: nacos
    group: ${spring.application.name}
    heartBeatInterval: 5
    heartBeatTimeout: 10
  cloud.nacos.config:
    # 完整 dataId 拼接格式：${prefix}-${spring.profile.active}.${file-extension}
    # prefix: spring.application.name
    server-addr: ${ip.home}:8848
    namespace: 8bfffac4-922c-4881-acf2-5150225a310b
    group: ${spring.application.name}
    # dataId 的后缀与这个相同
    file-extension: yml
    extension-configs:
      - dataId: base-config.yml
        refresh: true
        group: DEFAULT_GROUP
      - dataId: host-config.yml
        group: DEFAULT_GROUP
        refresh: true

---
# 启动慢建议放弃
spring:
  profiles: zookeeper-company
  cloud.zookeeper:
    connect-string: ${ip.company}:2181,${ip.company}:2182,${ip.company}:2183
    discovery:
      enabled: true
      root: default

---
spring:
  profiles: eureka-service
eureka:
  instance:
    appname: ${spring.application.name}
    # 修改 host 文件启用这个
    #    instance-id: ${spring.application.name}
    prefer-ip-address: true
    # 心跳间隔时间
    lease-renewal-interval-in-seconds: 1
    # eureka 过期检测时间，过期则剔除服务
    lease-expiration-duration-in-seconds: 2
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: http://localhost:${port.common.eureka-server1}/eureka/
#      defaultZone: http://server1:${port.common.eureka-server1}/eureka/,http://server2:${port.common.eureka-server2}/eureka/,http://server3:${port.common.eureka-server3}/eureka/
